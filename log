set -eu
for arg in "$@"; do
	if echo "$arg" | grep '=' >/dev/null 2>&1; then
		arg_name=$(echo $arg | sed 's =.*  ')
		arg_value=$(echo $arg | sed 's ^[^=]*=  ')
		eval ${arg_name}='${arg_value}'
		shift
	else
		break
	fi
done
if test $# -gt 0; then
	if test "$1" = "--"; then
		shift
	fi
fi
selfdir=${selfdir:-.}
calldir=${calldir:-$selfdir}
self=${self:-sh}
caller=${caller:-$self}
logfile=${logfile-}
if test -n "$logfile"; then
    echo "$(date +%Y%m%d.%H%M%S)	${calldir}/${caller}	$@" >>$logfile
else
    echo "$(date +%Y%m%d.%H%M%S)	${calldir}/${caller}	$@" >&2
fi
exec=${exec:-false}
if $exec; then
    tmp=${tmp:-/tmp/${self}.$$}
    out=${out:-false}
    if $out; then
        "$@" >${tmp}.out 2>&1
        if test -n "$logfile"; then
            cat ${tmp}.out | sed "s,^,$(date +%Y%m%d.%H%M%S)	${calldir}/${caller}	${1}: ,g" >>$logfile
        else
            cat ${tmp}.out
        fi
    else
        "$@"
    fi
fi
# DO NOT EDIT THIS FILE.  Auto-generated from log.md by lit.
